<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Rock Paper Scissors</title>
    <script scr="script.js"></script>
</head>

<body>
    <script>
        // ---------------------------------------------------------------------------
        function getComputerChoice() {
            return Math.floor(Math.random()*3)+1;
        }
        // ---------------------------------------------------------------------------
        function getPlayerChoice() {
            let x = prompt("Enter your choice");
            x = x.toLowerCase();
            if (x === "rock") {
                return 1;
            }
            else if (x === "paper") {
                return 2;
            }
            else if (x === "scissors" || x === "scissor") {
                return 3;
            }
            else {
                return 4;
            }
        }
        // ---------------------------------------------------------------------------
        function playRound(x,y) {

            if (x < y || (x === 3 && y === 1)) {
                return 1; // player loses
            }
            else if (x === y) {
                return 2; // draw
            }
            else {
                return 3; // player wins
            }

        }
        // ---------------------------------------------------------------------------
        function playGame() {
            let computerSelection = getComputerChoice();
            let playerSelection = getPlayerChoice();
            let counter=0;
            let result = playRound(playerSelection,computerSelection);
            if (result = 3) {
                counter ++;
            }
            else {}

            computerSelection = getComputerChoice();
            playerSelection = getPlayerChoice();
            result = playRound(playerSelection,computerSelection);
            if (result = 3) {
                counter ++;
            }
            else {}

            computerSelection = getComputerChoice();
            playerSelection = getPlayerChoice();
            result = playRound(playerSelection,computerSelection);
            if (result = 3) {
                counter ++;
            }
            else {}

            computerSelection = getComputerChoice();
            playerSelection = getPlayerChoice();
            result = playRound(playerSelection,computerSelection);
            if (result = 3) {
                counter ++;
            }
            else {}

            computerSelection = getComputerChoice();
            playerSelection = getPlayerChoice();
            result = playRound(playerSelection,computerSelection);
            if (result = 3) {
                counter ++;
            }
            else {}

            if (counter >= 3) {
                return "Congratulations! You won!"
            }
            else {
                return "Sorry, you lost"
            }

        }
        // ---------------------------------------------------------------------------
    
        let x = playGame();

        console.log(x)
        
    </script>
</body>

</html>